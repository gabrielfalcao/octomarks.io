{% extends "base.html" %}

{% block body %}
<div class="container">
  <div class="row-fluid">
    <div id="logo" class="span12">
      <img src="{{ url_for('static', filename='img/logo.png') }}" alt="logo for github bookmarks" />
    </div>
  </div>

  <div class="row-fluid">
    <div class="span12">
      <h2>Your bookmarks</h2>
      <br />
      <table class="table table-hover">
        <thead>
          <tr>
            <th>project</th>
            <th>owner</th>
            <th>tags</th>
          </tr>
        </thead>
        <tbody>
           {% for bookmark in bookmarks %}
          <tr>
            <td><a href="{{ bookmark.url }}" class="btn-btn-inverse">{{ RepositoryURIInfo(bookmark.url).project }}</a></td>
            <td><a href="https://github.com/{{ RepositoryURIInfo(bookmark.url).owner }}" class="btn-btn-inverse">{{ RepositoryURIInfo(bookmark.url).owner }}</a></td>
            <td>
              {% for tag in bookmark.tags %}
              <span class="badge badge-{{ loop.cycle('info', 'success', 'primary', 'warning', 'error', 'inverse') }}">{{ tag.name }}</span>
              {% endfor %}
            </td>
          </tr>
           {% endfor %}
        </tbody>
      </table>
    </div>
  </div>




  <script type="text/javascript">
  (function($){
    $("#main-save").on("click", function(){
      location.href='{{ full_url_for(".save_bookmark", token=user.gb_token) }}?uri=' + encodeURIComponent($("#uri").val());
    });
    $("#uri").on("keyup", function(){
      var text = $(this).val().trim();
      if (text.length > 0) {
        $("#main-save").removeAttr("disabled");
      } else {
        $("#main-save").attr("disabled", "disabled");
      }
    });
  })(window.jQuery);
  </script>
{% endblock %}
